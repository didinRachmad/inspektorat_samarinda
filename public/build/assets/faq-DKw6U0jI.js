import{r as d}from"./routes-De8qlvmc.js";const i={store:()=>d("faq.store"),update:o=>d("faq.update",{faq:o})};class r{constructor(){this.pageName="Master FAQ",this.modalEl=document.getElementById("faqModal"),this.modal=new bootstrap.Modal(this.modalEl),this.formEl=document.getElementById("faqForm"),this.faqIdInput=document.getElementById("faq_id"),this.questionInput=document.getElementById("question"),this.answerInput=document.getElementById("answer");const t=document.getElementById("btnTambahFaq");t&&t.addEventListener("click",()=>this.openAddModal()),document.addEventListener("click",a=>{if(a.target.closest(".btn-edit-faq")){const e=a.target.closest(".btn-edit-faq");this.openEditModal({id:e.dataset.id,question:e.dataset.question,answer:e.dataset.answer})}})}initIndex(){console.log(`Halaman ${this.pageName} berhasil dimuat!`),this.initFormSubmit()}openAddModal(){this.formEl.reset(),this.faqIdInput.value="",$("#answer").summernote("code",""),this.modalEl.querySelector(".modal-title").textContent="Tambah FAQ",this.modal.show()}openEditModal(t){this.faqIdInput.value=t.id,this.questionInput.value=t.question,$("#answer").summernote("code",t.answer),this.modalEl.querySelector(".modal-title").textContent="Edit FAQ",this.modal.show()}initFormSubmit(){this.formEl.addEventListener("submit",t=>{t.preventDefault();const a=new FormData(this.formEl);a.set("answer",$("#answer").summernote("code"));const e=this.faqIdInput.value;let l=e?i.update(e):i.store();e&&a.append("_method","PUT"),$.ajax({url:l,type:"POST",data:a,processData:!1,contentType:!1,success:s=>{this.modal.hide(),location.reload(),showToast(s.message||"FAQ berhasil disimpan.","success")},error:s=>{var n;console.error(s),showAlert("Gagal",((n=s.responseJSON)==null?void 0:n.message)||"Terjadi kesalahan","error")}})})}}const m=new r;window.FaqPage=m;export{m as default};
