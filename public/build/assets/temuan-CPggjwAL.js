import{r as c}from"./routes-D3ctfpXk.js";import"./parse-B3pZ8sEA.js";const b={datatable:()=>c("temuan.data")};class k{constructor(){this.pageName="Temuan",this.datatableEl=$("#datatables"),this.rekomendasiTable=$("#rekomendasiTable"),this.fileWrapper=$("#file-wrapper")}initIndex(){console.log(`Halaman ${this.pageName} Index berhasil dimuat!`),this.initDataTable()}initCreate(){console.log(`Halaman ${this.pageName} Create berhasil dimuat!`),this.initForm()}initEdit(){console.log(`Halaman ${this.pageName} Edit berhasil dimuat!`),this.initForm()}initShow(){console.log(`Halaman ${this.pageName} Show berhasil dimuat!`)}initDataTable(){this.datatableEl.DataTable({processing:!0,serverSide:!0,ajax:b.datatable(),columns:[{data:"DT_RowIndex",name:"DT_RowIndex",className:"text-center",orderable:!1,searchable:!1},{data:"id",name:"id",visible:!1},{data:"lha_no",name:"lha_no"},{data:"judul_temuan",name:"judul_temuan"},{data:"kode_temuan",name:"kode_temuan"},{data:"kondisi_temuan",name:"kondisi_temuan",render:window.renderSummernoteText},{data:"kriteria_temuan",name:"kriteria_temuan",render:window.renderSummernoteText},{data:"sebab_temuan",name:"sebab_temuan",render:window.renderSummernoteText},{data:"akibat_temuan",name:"akibat_temuan",render:window.renderSummernoteText},{data:null,orderable:!1,searchable:!1,className:"text-center no-export",render:(i,r,o)=>{let t="";return o.can_edit&&(t+=`<a href="${o.edit_url}" class="btn btn-sm btn-warning rounded-4" data-bs-toggle="tooltip" title="Edit">
                                <i class="bi bi-pencil-square"></i>
                            </a>`),o.can_delete&&(t+=`<form action="${o.delete_url}" method="POST" class="d-inline form-delete">
                                <input type="hidden" name="_token" value="${$('meta[name="csrf-token"]').attr("content")}">
                                <input type="hidden" name="_method" value="DELETE">
                                <button type="button" class="btn btn-sm btn-danger rounded-4 btn-delete" data-bs-toggle="tooltip" title="Hapus">
                                    <i class="bi bi-trash-fill"></i>
                                </button>
                            </form>`),`<div class="d-flex justify-content-center gap-1">${t}</div>`}}],dom:"<'row'<'col-md-3'l><'col-md-6 text-center'><'col-md-3'f>><'row py-2'<'col-sm-12'tr>><'row'<'col-md-5'i><'col-md-7'p>>",paging:!0,responsive:!0,pageLength:20,lengthMenu:[[20,50,-1],[20,50,"Semua"]],order:[[1,"desc"]],info:!0,language:{sEmptyTable:"Tidak ada data yang tersedia di tabel",sInfo:"Menampilkan _START_ hingga _END_ dari _TOTAL_ entri",sInfoFiltered:"(disaring dari _MAX_ entri keseluruhan)",sLengthMenu:"Tampilkan _MENU_ entri",sLoadingRecords:"Memuat...",sProcessing:"Sedang memproses...",sSearch:"Cari:",sZeroRecords:"Tidak ditemukan data yang cocok",oAria:{sSortAscending:": aktifkan untuk mengurutkan kolom menaik",sSortDescending:": aktifkan untuk mengurutkan kolom menurun"}},drawCallback:()=>$('[data-bs-toggle="tooltip"]').each(function(){new bootstrap.Tooltip(this)})})}initForm(){const i=document.getElementById("rekomendasiTable").getElementsByTagName("tbody")[0],r=i.rows[0].cloneNode(!0);r.querySelector(".remove-rekomendasi").style.display="none",document.getElementById("btnAddRekomendasi").addEventListener("click",()=>{const e=r.cloneNode(!0),a=i.rows.length,n=e.querySelector(".rekom-select");n&&(n.name=`rekomendasis[${a}][kode_rekomendasi_id]`,n.selectedIndex=0);const d=e.querySelector(".rekom-uraian");d&&(d.name=`rekomendasis[${a}][rekomendasi_temuan]`,d.value="");const l=e.querySelector(".rekom-nominal");l&&(l.name=`rekomendasis[${a}][nominal]`,l.value=0);const s=e.querySelector(".remove-rekomendasi");s&&(s.style.display="inline-block",s.addEventListener("click",()=>e.remove())),i.appendChild(e)});const t=document.getElementById("fileTable").getElementsByTagName("tbody")[0],m=document.getElementById("btnAddFile"),u=t.querySelector("tr:first-child");m.addEventListener("click",()=>{const e=u.cloneNode(!0),a=e.querySelector("input[type=file]");a.value="",a.name="files[]";const n=e.querySelector(".remove-file");n.style.display="inline-block",n.addEventListener("click",()=>e.remove()),t.appendChild(e)})}}const f=new k;export{f as default};
